<template name="customFieldDisplay">
  <div class="panel panel-default">
    <div class="panel-heading" id="entity-custom-fields">
      <div class="btn-group pull-right">
        <button id='add-custom-field' class="btn btn-primary btn-xs" data-toggle="tooltip" data-placement="bottom" title="New field to store custom information" role='button'><i class="fa fa-fw fa-plus"></i> Add</button>
        <button id='edit-custom-fields' class="btn btn-info btn-xs" data-toggle="tooltip" data-placement="bottom" title="Update existing custom information" role='button'><i class="fa fa-fw fa-pencil"></i> Edit</button>
      </div>
      Extended Information
    </div>
    <ul class="list-group" id='custom-field-container'>
      <div id="global-fields">
        {{#each customFields}} {{#if isGlobal}}{{> cfDisplay}}{{/if}} {{/each}}
      </div>
      <div id="local-fields">
        {{#each customFields}} {{#unless isGlobal}}{{> cfDisplay}}{{/unless}} {{/each}}
      </div>
    </ul>
  </div>
</template>

<template name="cfDisplay">
  <li class="list-group-item custom-field-display-item">
    {{#if isGlobal}}
    <strong>
      {{name}}: <span id="custom-field-{{trimmedName}}">{{displayValue}}</span> {{parentHelper ..}}
    </strong>
    {{else}}
      {{name}}: <span id="custom-field-{{trimmedName}}">{{displayValue}}</span> {{parentHelper ..}}
    {{/if}}
  </li>
</template>

<template name="addCustomField">
  <div class="modal" id="draggableModal">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
          <h5>Add new custom field</h5>
        </div>

        <div class="modal-body">
          <form>
            <div class="form-group">
              <label for="custom-field-name">Name</label>
              <input type="text" class="form-control" placeholder="Custom field name" id="custom-field-name">
            </div>

            <label>Type</label>
            <div class="row">
              <div class="col-md-4">
                <div class="radio">
                  <label>
                    <input type="radio" name="cfType" id="typeText" checked>Text</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="radio">
                  <label>
                    <input type="radio" name="cfType" id="typeCheckbox">Checkbox</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="radio">
                  <label>
                    <input type="radio" name="cfType" id="typeDate">Date/Time</label>
                </div>
              </div>
            </div>

            <div class="form-group" id="text-input-area">
              <label for="custom-field-value">Text Value</label>
              <input type="text" class="form-control" placeholder="Custom field value" id="custom-field-text-value">
            </div>
            <div class="form-group" id="check-input-area">
              <label for="custom-field-value">Boolean Value</label>
              <br />
              <input type="checkbox" placeholder="Custom field value" id="custom-field-check-value"> Check this box to set the value of this custom field to true. Leave it blank for false values.
            </div>
            <div class="form-group datetimepicker" id="date-input-area">
              <label for="custom-field-value">Date Value</label>
              <input class="form-control" placeholder="Custom field value" id="custom-field-date-value">
            </div>
          </form>
        </div>

        <div class="modal-footer">
          <button id="submit-custom-field" role="button" class="btn btn-primary">Create</button>
        </div>

      </div>
    </div>
  </div>
</template>

<template name="updateCustomField">
  <div class="modal" id="draggableModal">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
          <h5>Edit custom field</h5>
        </div>

        <div class="modal-body">
          <form>
            <div class="form-group">
              <label for="custom-field-name">Name</label>
              <input type="text" class="form-control" placeholder="Custom field name" id="custom-field-name" value={{name}} readonly="readonly">
            </div>

            <label>Type</label>
            <div class="row">
              <div class="col-md-4">
                <div class="radio">
                  <label>
                    <input type="radio" name="cfType" id="typeText" checked disabled="{{#if isGlobal}}disabled{{/if}}">Text</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="radio">
                  <label>
                    <input type="radio" name="cfType" id="typeCheckbox" disabled="{{#if isGlobal}}disabled{{/if}}">Checkbox</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="radio">
                  <label>
                    <input type="radio" name="cfType" id="typeDate" disabled="{{#if isGlobal}}disabled{{/if}}">Date/Time</label>
                </div>
              </div>
            </div>

            <div class="form-group" id="text-input-area">
              <label for="custom-field-value">Text Value</label>
              <input type="text" class="form-control" placeholder="Custom field value" id="custom-field-text-value">
            </div>
            <div class="form-group" id="check-input-area">
              <label for="custom-field-value">Boolean Value</label>
              <br />
              <input type="checkbox" placeholder="Custom field value" id="custom-field-check-value"> Check this box to set the value of this custom field to true. Leave it blank for false values.
            </div>
            <div class="form-group datetimepicker" id="date-input-area">
              <label for="custom-field-value">Date Value</label>
              <input class="form-control" placeholder="Custom field value" id="custom-field-date-value">
            </div>
          </form>
        </div>

        <div class="modal-footer">
          <button id="submit-custom-field" role="button" class="btn btn-primary">Update</button>
        </div>

      </div>
    </div>
  </div>
</template>
